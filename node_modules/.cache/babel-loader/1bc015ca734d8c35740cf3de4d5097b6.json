{"ast":null,"code":"import React, { createContext, useEffect, useState } from \"react\";\nimport ArcPath from \"./ArcPath\";\nimport LegendItem from \"./LegendItem\";\nexport const DonutChartContext = /*#__PURE__*/createContext(undefined);\n\nconst DonutChart = _ref => {\n  let {\n    className = \"donutchart\",\n    clickToggle = true,\n    colorFunction = (colors, index) => colors[index % colors.length],\n    colors = [\"#f44336\", \"#e91e63\", \"#9c27b0\", \"#673ab7\", \"#3f51b5\", \"#2196f3\", \"#03a9f4\", \"#00bcd4\", \"#009688\", \"#4caf50\", \"#8bc34a\", \"#cddc39\", \"#ffeb3b\", \"#ffc107\", \"#ff9800\", \"#ff5722\", \"#795548\", \"#607d8b\"],\n    data = [{\n      className: \"\",\n      label: \"\",\n      value: 100,\n      isEmpty: true\n    }],\n    emptyColor = \"#e0e0e0\",\n    emptyOffset = 0.08,\n    formatValues = (value, total) => Number.isNaN(value / total) ? \"--\" : `${(value / total * 100).toFixed(2)}%`,\n    height = 500,\n    interactive = true,\n    innerRadius = 0.7,\n    legend = true,\n    onMouseEnter = item => item,\n    onMouseLeave = item => item,\n    onClick = (item, toggled) => toggled ? item : null,\n    outerRadius = 0.9,\n    selectedOffset = 0.03,\n    strokeColor = \"#212121\",\n    toggledOffset = 0.04,\n    width = 750\n  } = _ref;\n  const [selected, setSelected] = useState(interactive ? data[0] : null);\n  const [toggleSelect, setToggleSelect] = useState(false);\n  useEffect(() => {\n    if (interactive) {\n      setSelected(data[0]);\n      setToggleSelect(false);\n    }\n  }, [interactive, data]);\n  const graphWidth = legend ? width * (2 / 3) : width;\n  const total = data.reduce((sum, _ref2) => {\n    let {\n      value\n    } = _ref2;\n    return sum + value;\n  }, 0);\n  const {\n    dataWithRenderProps\n  } = data.reduce((_ref3, item, index) => {\n    let {\n      angle,\n      dataWithRenderProps\n    } = _ref3;\n    const {\n      className,\n      isEmpty,\n      label,\n      value\n    } = item;\n    const isSelected = (selected === null || selected === void 0 ? void 0 : selected.label) === label;\n    const isToggled = isSelected && toggleSelect;\n    return {\n      angle: angle + value / total * 360,\n      dataWithRenderProps: [...dataWithRenderProps, {\n        angle,\n        index,\n        ...item,\n        classNames: `${className ?? \"\"} ${isEmpty ? \"empty\" : \"\"} ${isSelected ? \"selected\" : \"\"} ${isToggled ? \"toggled\" : \"\"}`.trim(),\n        fill: isEmpty ? emptyColor : colorFunction(colors, index),\n        opacity: isSelected && !toggleSelect ? 0.5 : 1,\n        stroke: isEmpty ? emptyColor : strokeColor,\n        clickHandlers: interactive ? {\n          onClick: () => {\n            if ((selected === null || selected === void 0 ? void 0 : selected.label) === label) {\n              const toggle = clickToggle ? !toggleSelect : false;\n              setSelected(item);\n              setToggleSelect(toggle);\n              onClick(item, toggle);\n            }\n          },\n          onMouseEnter: () => {\n            if (!toggleSelect) {\n              setSelected(item);\n              onMouseEnter(item);\n            }\n          },\n          onMouseLeave: () => {\n            if (!toggleSelect) {\n              onMouseLeave(item);\n            }\n          }\n        } : undefined\n      }],\n      total: total + value\n    };\n  }, {\n    angle: 0,\n    dataWithRenderProps: []\n  });\n  return /*#__PURE__*/React.createElement(DonutChartContext.Provider, {\n    value: {\n      className,\n      emptyOffset,\n      graphWidth,\n      innerRadius,\n      outerRadius,\n      selected,\n      selectedOffset,\n      toggledOffset,\n      toggleSelect,\n      total,\n      width\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    className: className,\n    style: {\n      height,\n      width\n    },\n    viewBox: `0 0 ${width} ${height}`\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    className: `${className}-arcs`\n  }, dataWithRenderProps.map(item => /*#__PURE__*/React.createElement(ArcPath, {\n    item: item,\n    key: `arcpath${item.index}`\n  }))), selected && /*#__PURE__*/React.createElement(\"g\", {\n    className: `${className}-innertext`\n  }, /*#__PURE__*/React.createElement(\"text\", {\n    className: `${className}-innertext-label`,\n    x: graphWidth / 2,\n    y: \"45%\",\n    textAnchor: \"middle\"\n  }, selected.label), /*#__PURE__*/React.createElement(\"text\", {\n    className: `${className}-innertext-value`,\n    x: graphWidth / 2,\n    y: \"60%\",\n    textAnchor: \"middle\"\n  }, formatValues(selected.value, total))), legend && /*#__PURE__*/React.createElement(\"g\", {\n    className: `${className}-legend`\n  }, dataWithRenderProps.map(item => /*#__PURE__*/React.createElement(LegendItem, {\n    key: `legenditem${item.index}`,\n    item: item\n  })))));\n};\n\nexport default DonutChart;","map":{"version":3,"sources":["C:/Users/hp/Desktop/RegLog/node_modules/react-donut-chart/dist/DonutChart.js"],"names":["React","createContext","useEffect","useState","ArcPath","LegendItem","DonutChartContext","undefined","DonutChart","className","clickToggle","colorFunction","colors","index","length","data","label","value","isEmpty","emptyColor","emptyOffset","formatValues","total","Number","isNaN","toFixed","height","interactive","innerRadius","legend","onMouseEnter","item","onMouseLeave","onClick","toggled","outerRadius","selectedOffset","strokeColor","toggledOffset","width","selected","setSelected","toggleSelect","setToggleSelect","graphWidth","reduce","sum","dataWithRenderProps","angle","isSelected","isToggled","classNames","trim","fill","opacity","stroke","clickHandlers","toggle","createElement","Provider","style","viewBox","map","key","x","y","textAnchor"],"mappings":"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","sourcesContent":["import React,{createContext,useEffect,useState}from\"react\";import ArcPath from\"./ArcPath\";import LegendItem from\"./LegendItem\";export const DonutChartContext=/*#__PURE__*/createContext(undefined);const DonutChart=({className=\"donutchart\",clickToggle=true,colorFunction=(colors,index)=>colors[index%colors.length],colors=[\"#f44336\",\"#e91e63\",\"#9c27b0\",\"#673ab7\",\"#3f51b5\",\"#2196f3\",\"#03a9f4\",\"#00bcd4\",\"#009688\",\"#4caf50\",\"#8bc34a\",\"#cddc39\",\"#ffeb3b\",\"#ffc107\",\"#ff9800\",\"#ff5722\",\"#795548\",\"#607d8b\"],data=[{className:\"\",label:\"\",value:100,isEmpty:true}],emptyColor=\"#e0e0e0\",emptyOffset=0.08,formatValues=(value,total)=>Number.isNaN(value/total)?\"--\":`${(value/total*100).toFixed(2)}%`,height=500,interactive=true,innerRadius=0.7,legend=true,onMouseEnter=item=>item,onMouseLeave=item=>item,onClick=(item,toggled)=>toggled?item:null,outerRadius=0.9,selectedOffset=0.03,strokeColor=\"#212121\",toggledOffset=0.04,width=750})=>{const[selected,setSelected]=useState(interactive?data[0]:null);const[toggleSelect,setToggleSelect]=useState(false);useEffect(()=>{if(interactive){setSelected(data[0]);setToggleSelect(false)}},[interactive,data]);const graphWidth=legend?width*(2/3):width;const total=data.reduce((sum,{value})=>sum+value,0);const{dataWithRenderProps}=data.reduce(({angle,dataWithRenderProps},item,index)=>{const{className,isEmpty,label,value}=item;const isSelected=(selected===null||selected===void 0?void 0:selected.label)===label;const isToggled=isSelected&&toggleSelect;return{angle:angle+value/total*360,dataWithRenderProps:[...dataWithRenderProps,{angle,index,...item,classNames:`${className??\"\"} ${isEmpty?\"empty\":\"\"} ${isSelected?\"selected\":\"\"} ${isToggled?\"toggled\":\"\"}`.trim(),fill:isEmpty?emptyColor:colorFunction(colors,index),opacity:isSelected&&!toggleSelect?0.5:1,stroke:isEmpty?emptyColor:strokeColor,clickHandlers:interactive?{onClick:()=>{if((selected===null||selected===void 0?void 0:selected.label)===label){const toggle=clickToggle?!toggleSelect:false;setSelected(item);setToggleSelect(toggle);onClick(item,toggle)}},onMouseEnter:()=>{if(!toggleSelect){setSelected(item);onMouseEnter(item)}},onMouseLeave:()=>{if(!toggleSelect){onMouseLeave(item)}}}:undefined}],total:total+value}},{angle:0,dataWithRenderProps:[]});return/*#__PURE__*/React.createElement(DonutChartContext.Provider,{value:{className,emptyOffset,graphWidth,innerRadius,outerRadius,selected,selectedOffset,toggledOffset,toggleSelect,total,width}},/*#__PURE__*/React.createElement(\"svg\",{className:className,style:{height,width},viewBox:`0 0 ${width} ${height}`},/*#__PURE__*/React.createElement(\"g\",{className:`${className}-arcs`},dataWithRenderProps.map(item=>/*#__PURE__*/React.createElement(ArcPath,{item:item,key:`arcpath${item.index}`}))),selected&&/*#__PURE__*/React.createElement(\"g\",{className:`${className}-innertext`},/*#__PURE__*/React.createElement(\"text\",{className:`${className}-innertext-label`,x:graphWidth/2,y:\"45%\",textAnchor:\"middle\"},selected.label),/*#__PURE__*/React.createElement(\"text\",{className:`${className}-innertext-value`,x:graphWidth/2,y:\"60%\",textAnchor:\"middle\"},formatValues(selected.value,total))),legend&&/*#__PURE__*/React.createElement(\"g\",{className:`${className}-legend`},dataWithRenderProps.map(item=>/*#__PURE__*/React.createElement(LegendItem,{key:`legenditem${item.index}`,item:item})))))};export default DonutChart;"]},"metadata":{},"sourceType":"module"}